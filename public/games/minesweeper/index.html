<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Minesweeper</title>

        <!-- OS-GUI Styles -->
        <link href="/public/os-gui/layout.css" rel="stylesheet" type="text/css" />
        <link href="/public/os-gui/windows-98.css" rel="stylesheet" type="text/css" />
        <link href="/public/os-gui/dialog-window.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">

        <style>
            body {
                background-color: teal;
                overflow: hidden; /* Prevent scrollbars from appearing */
                margin: 0;
                padding: 0;
            }
            #screen {
                position: absolute;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
            }
        </style>
    </head>
    <body>
        <div id="screen"></div>

        <!-- Scripts -->
        <script src="/public/jquery-3.3.1.js"></script>
        <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
        <script src="/public/os-gui/utils.js"></script>
        <script src="/public/os-gui/$Window.js"></script>
        <script src="/public/os-gui/MenuBar.js"></script>
        <script src="/public/os-gui/MenuPopup.js"></script>
        <script src="/public/os-gui/MenuList.js"></script>

        <!-- Minesweeper App Scripts -->
        <script type="module">
            import { MinesweeperApp } from '/src/apps/minesweeper/MinesweeperApp.js';

            // Polyfill for ShowDialogWindow which is part of the main app but not available here
            if (typeof window.ShowDialogWindow === 'undefined') {
                window.ShowDialogWindow = (options) => {
                    alert(options.title + "\\n\\n" + (options.text || "This feature is not available in the standalone version."));
                };
            }

            $(document).ready(function() {
                // Initialize the Minesweeper application
                const minesweeperApp = new MinesweeperApp();
                const win = minesweeperApp._createWindow();

                // Center the window
                const desktopWidth = $('#screen').width();
                const desktopHeight = $('#screen').height();
                const winWidth = win.width();
                const winHeight = win.height();

                win.css({
                    left: (desktopWidth - winWidth) / 2,
                    top: (desktopHeight - winHeight) / 2,
                });
            });
        </script>
    </body>
</html>
