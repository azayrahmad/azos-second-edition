<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link
            rel="icon"
            type="image/svg+xml"
            href="/src/assets/icons/windows-4.png"
        />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Windows 98 Web Edition</title>
        <link rel="stylesheet" href="/src/styles/scanlines-css.css" />
        <link rel="stylesheet" href="/src/styles/98.css" />
        <link href="./os-gui/layout.css" rel="stylesheet" type="text/css" />
        <link href="./os-gui/windows-98.css" rel="stylesheet" type="text/css" />
        <link
            href="./os-gui/dialog-window.css"
            rel="stylesheet"
            type="text/css"
        />
        <link href="./os-gui/animations.css" rel="stylesheet" type="text/css" />
        <!--<link href="./os-gui/windows-default.css" rel="stylesheet" type="text/css" />-->

        <link href="./os-gui/Toolbar.css" rel="stylesheet" type="text/css" />
        <link
            href="./os-gui/address-bar.css"
            rel="stylesheet"
            type="text/css"
        />
        <link rel="stylesheet" href="/src/styles/desktop.css" />
        <link rel="stylesheet" href="/src/styles/taskbar.css" />
        <link rel="stylesheet" href="/src/styles/shutdown-dialog.css" />
        <link rel="stylesheet" href="./clippy/clippy.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.min.css"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
        <script src="https://unpkg.com/prettier@2.8.8/standalone.js"></script>
        <script src="https://unpkg.com/prettier@2.8.8/parser-babel.js"></script>
        <script src="https://unpkg.com/prettier@2.8.8/parser-html.js"></script>
        <script src="https://unpkg.com/prettier@2.8.8/parser-css.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/icojs@0.20.1/dist/ico.js"></script>
        <script src="https://adrianotiger.github.io/web-esheep/dist/esheep.min.js"></script>
        <script>
            // The parser scripts populate a global `prettierPlugins` object.
            // We need to convert it to an array to pass to prettier.format().
            if (
                typeof prettierPlugins === "object" &&
                prettierPlugins !== null
            ) {
                window.prettierPlugins = Object.values(prettierPlugins);
            } else {
                window.prettierPlugins = [];
            }
        </script>
        <script src="./os-gui/utils.js"></script>
        <script src="./os-gui/MenuBar.js"></script>
        <script src="./os-gui/MenuPopup.js"></script>
        <script src="./os-gui/ContextMenu.js"></script>
        <script src="./jquery-3.3.1.js"></script>
        <script src="./os-gui/$Window.js"></script>
        <script src="./os-gui/Toolbar.js"></script>
        <script src="./os-gui/AddressBar.js"></script>
        <script src="./clippy/clippy.js"></script>
        <script src="./clippy/clippy_extensions_complete.js"></script>
        <style>
            body.booting {
                display: flex;
                align-items: center;
                justify-content: center;
                height: 100vh;
                margin: 0;
            }
            #screen.boot-mode {
                /*width: 640px;
                height: 480px;*/
                overflow: hidden;
                position: relative;
            }
            #boot-log div {
                white-space: pre-wrap;
            }
            #boot-screen {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: black;
                color: #aaaaaa;
                font-family: "IBM BIOS", Courier, monospace;
                font-size: 13px;
                line-height: 1.5;
                padding: 2em;
                box-sizing: border-box;
                overflow-y: auto;
                z-index: 9999;
                cursor: none;
            }
            #boot-screen-left {
                flex-grow: 1;
                margin-right: 20px; /* Some spacing between columns */
            }
            #boot-screen-right {
                width: 130px; /* Approximate width of the Energy Star logo */
                flex-shrink: 0;
                display: flex;
                align-items: flex-end;
                justify-content: flex-end;
            }
            #boot-screen-right img {
                width: 130px; /* Specific width for the Energy Star logo */
                height: 130px; /* Specific height for the Energy Star logo */
            }
            #bios-info-row {
                display: flex;
                align-items: flex-start;
                margin-bottom: 20px;
                flex-direction: row;
            }
            .bios-text-content {
                display: flex;
                flex-direction: column;
                white-space: pre-wrap;
                line-height: 1.2;
            }
            #bios-text-column {
                /* Adjusting this from .bios-text-content for more specificity if needed */
                flex-grow: 1;
                white-space: pre-wrap;
                line-height: 1.2;
            }
            #initial-boot-message {
                position: absolute;
                color: inherit;
                font-size: 13px;
                white-space: nowrap;
            }
            #boot-screen-content {
                display: none;
                height: 100%;
                width: 100%;
            }
            #boot-screen-main-flex-container {
                display: flex;
                height: 100%;
                gap: 20px;
            }
            #boot-screen-left-column {
                flex-grow: 1;
                display: flex;
                flex-direction: column;
            }
            #bios-logo-column {
                width: 20px;
                flex-shrink: 0;
                margin-right: 10px;
            }
            .blinking-cursor {
                animation: blink 1s step-end infinite;
            }
            @keyframes blink {
                50% {
                    opacity: 0;
                }
            }
        </style>
    </head>

    <body class="scanlines">
        <div id="screen">
            <div id="boot-screen">
                <!-- Initial boot message, visible by default -->
                <div id="initial-boot-message">Initializing Windows 98...</div>

                <!-- Main boot screen content (two columns), initially hidden, shown by main.js -->
                <div id="splash-screen">
                    <div class="loading-banner"></div>
                </div>
                <div id="boot-screen-content">
                    <div id="boot-screen-main-flex-container">
                        <!-- Left Column for boot text -->
                        <div id="boot-screen-left-column">
                            <!-- Award BIOS info row -->
                            <div id="bios-info-row">
                                <div id="bios-logo-column">
                                    <img
                                        src="/img/award.png"
                                        alt="Award BIOS Logo"
                                    />
                                </div>
                                <div id="bios-text-column">
                                    Award Modular BIOS v4.51PG, An Energy Star
                                    Ally<br />
                                    Copyright (C) 1984-85, Award Software, Inc.
                                </div>
                            </div>
                            <!-- Browser Info (will be updated by main.js) -->
                            <!--<div id="browser-info" style="margin-top: 10px"></div>-->
                            <!-- Boot Log (will be updated by main.js) -->
                            <div id="boot-log" style="flex-grow: 1"></div>
                            <div id="boot-screen-footer">
                                Press [DEL] to enter SETUP.
                            </div>
                        </div>

                        <!-- Right Column for Energy Star logo -->
                        <div id="boot-screen-right-column">
                            <img src="/img/energystar.png" alt="Energy Star" />
                        </div>
                    </div>
                </div>
            </div>
            <svg style="position: absolute; pointer-events: none; bottom: 100%">
                <defs>
                    <filter
                        id="os-gui-black-to-inset-filter"
                        x="0"
                        y="0"
                        width="1px"
                        height="1px"
                    >
                        <feColorMatrix
                            in="SourceGraphic"
                            type="matrix"
                            values="
							1 0 0 0 0
							0 1 0 0 0
							0 0 1 0 0
							-2 -2 -2 4 0
						"
                            result="dark-parts-isolated"
                        />
                        <feFlood
                            result="shadow-color"
                            flood-color="var(--ButtonShadow)"
                        />
                        <feFlood
                            result="hilight-color"
                            flood-color="var(--ButtonHilight)"
                        />
                        <feOffset
                            in="dark-parts-isolated"
                            dx="1"
                            dy="1"
                            result="offset"
                        />
                        <feComposite
                            in="hilight-color"
                            in2="offset"
                            operator="in"
                            result="hilight-colored-offset"
                        />
                        <feComposite
                            in="shadow-color"
                            in2="dark-parts-isolated"
                            operator="in"
                            result="shadow-colored"
                        />
                        <feMerge>
                            <feMergeNode in="hilight-colored-offset" />
                            <feMergeNode in="shadow-colored" />
                        </feMerge>
                    </filter>
                </defs>
            </svg>
            <script type="module" src="/src/main.js"></script>
        </div>
    </body>
</html>
